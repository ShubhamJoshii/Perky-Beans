import{r as o,j as e,b as i}from"./index-c667c2e2.js";import{A as P}from"./AdminSidebar-1e50e2a8.js";import{D as r}from"./Charts-de5c9dcc.js";import"./index.esm-3b99841e.js";import"./index.esm-5b499a51.js";import"./index.esm-ac1cf2e2.js";import"./index.esm-7a656881.js";import"./index-173da06a.js";const y=[{value:40,heading:"Laptops"},{value:100,heading:"Shoes"},{value:80,heading:"Cameras"},{value:60,heading:"Jeans"}],N=()=>{const[c,f]=o.useState({}),[n,j]=o.useState({}),[d,g]=o.useState({}),[h,v]=o.useState({}),x=async()=>{let t={};await i.get("/api/fetchOrders").then(s=>{s.data.data.filter(a=>{const{status:l}=a;t[l]=(t[l]||0)+1}),f(t)}).catch(s=>{console.log(s)})},m=async()=>{let t={},s={};await i.post("/api/fetchProduct").then(a=>{a.data.data.filter(l=>{const{Category:u,Available:b}=l;t[u]=(t[u]||0)+1,s[b?"Available":"Non-Available"]=(s[b?"Available":"Non-Available"]||0)+1}),j(t),v(s)}).catch(a=>{console.log(a)})},p=async()=>{let t={};await i.get("/api/fetchUsers").then(s=>{s.data.data.filter(a=>{const{Role:l}=a;t[l]=(t[l]||0)+1}),g(t)}).catch(s=>{console.log("Error")})};return o.useEffect(()=>{x(),m(),p()},[]),e.jsxs("div",{className:"admin-container",children:[e.jsx(P,{}),e.jsxs("main",{className:"chart-container",children:[e.jsx("h2",{children:"Pie Representative"}),e.jsxs("section",{children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Order Fulfillment Ratio"}),e.jsx(r,{labels:Object.keys(c),data:Object.values(c),backgroundColor:["green","blue","yellow","teal","red"],legends:!1,offset:[0,0,50]})]}),e.jsxs("div",{children:[e.jsx("h2",{children:"Product Categories Ratio"}),e.jsx(r,{labels:Object.keys(n),data:Object.values(n),backgroundColor:y.map(t=>`hsl(${t.value*4},${t.value}%, 50%)`),legends:!1,offset:[0,0,0,80]})]}),e.jsxs("div",{children:[e.jsx("h2",{children:"Products Availability"}),e.jsx(r,{labels:Object.keys(h),data:Object.values(h),backgroundColor:["hsl(269,80%,40%)","rgb(53, 162, 255)"],legends:!1,offset:[0,80],cutout:"60%"})]}),e.jsxs("div",{children:[e.jsx("h2",{children:"User-Admin Ratio"}),e.jsx(r,{labels:Object.keys(d),data:Object.values(d),backgroundColor:["hsl(335, 100%, 38%)","hsl(44, 98%, 50%)"],offset:[0,20],legends:!1})]})]})]})]})};export{N as default};
