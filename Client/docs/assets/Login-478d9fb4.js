import{r as i,N as j,u as f,j as s,a as c,b as v}from"./index-5c2fc0ab.js";import{g as E,h as P}from"./index.esm-9d541a8c.js";import{H as y}from"./Header-f26ec214.js";import{O as S}from"./Blocks-c51b83d5.js";import"./index.esm-96b25de3.js";const U=()=>{const[e,l]=i.useState({Email:"",Password:""}),[n,h]=i.useState(!1),{notification:r,checkUserAlreadyLogin:u}=i.useContext(j),[m,d]=i.useState(!1),p=f();i.useEffect(()=>{n?document.getElementById("Password").type="text":document.getElementById("Password").type="password"},[n]);const w=t=>{const a=t.target.name,o=t.target.value;l({...e,[a]:o})},g=t=>{const{name:a,value:o}=t.target;(/^[A-Za-z\s]+$/.test(o[0])||o==="")&&l({...e,[a]:o})},x=async t=>{t.preventDefault(),e.Email&&e.Password.length>=8&&!e.Password.includes(" ")?(d(!0),await v.post("/api/login",e).then(a=>{a.data==="User Logined"?(r(a.data,"Success"),setTimeout(()=>{u(),p("/")},1e3)):r(a.data,"Un-Success"),setTimeout(()=>{d(!1)},1e3)}).catch(a=>{d(!1)})):e.Password.includes(" ")?r("User Password is does not Include any white space","Warning"):e.Password.length<8&&r("User Password is Not Matched","Warning")};return s.jsxs(s.Fragment,{children:[s.jsx(y,{}),s.jsx("div",{id:"Login",children:s.jsxs("form",{onSubmit:x,children:[s.jsx("h1",{children:"LOGIN"}),s.jsx("label",{htmlFor:"Email",children:"Email:"}),s.jsx("br",{}),s.jsx("input",{type:"Email",id:"Email",name:"Email",placeholder:"Enter your Email",value:e.Email,onChange:g,required:!0}),s.jsx("label",{htmlFor:"Password",children:"Password:"})," ",s.jsx("br",{}),s.jsxs("div",{id:"passwordContainer",children:[s.jsx("input",{type:"Password",minLength:8,maxLength:18,id:"Password",name:"Password",placeholder:"Enter your Password",value:e.Password,onChange:w,required:!0}),s.jsx("div",{id:"passwordEYE",onClick:()=>{h(!n)},children:n?s.jsx(E,{}):s.jsx(P,{})})]}),s.jsx("div",{className:"forgot-password",children:s.jsx(c,{to:"./forgetpassword",children:"Forgot Password?"})}),m?s.jsx(S,{height:"22",width:"18",color:"white",wrapperStyle:{},wrapperClass:"loading",visible:!0,ariaLabel:"oval-loading",secondaryColor:"white",strokeWidth:8,strokeWidthSecondary:8}):s.jsx("input",{type:"submit",value:"LOGIN"}),s.jsxs("div",{className:"no-account",children:[s.jsx("p",{children:"Don't have an account?"}),s.jsx(c,{to:"/auth/Register",ClassName:"active",children:"Sign Up"})]})]})})]})};export{U as default};
