import{d as m,r as i,N as j,u as P,j as e,L as g,b as r}from"./index-8034329b.js";import{A as v}from"./AdminSidebar-ddd69618.js";import{b as f}from"./index.esm-e4be5a7f.js";import"./index.esm-525efdad.js";import"./index.esm-3007911d.js";import"./index.esm-4a30bd17.js";const S=()=>{const o=m().productId,{notification:c}=i.useContext(j),[t,d]=i.useState({_id:"",Product_Photo:"",Product_Name:"",Description:"",Price:"",Rating:"",Category:"",type:""}),l=P(),u=async()=>{await r.post("/api/fetchProductDetails",{_id:o}).then(a=>{a.data.found&&d(a.data.data)}).catch(a=>{console.log(a)})};i.useEffect(()=>{u()},[o]);const n=a=>{const s=a.target.name,x=a.target.value;d({...t,[s]:x})},h=async a=>{a.preventDefault(),await r.post("/api/updateProduct",t).then(s=>{c(s.data.message,"Success")}).catch(s=>{console.log(s)})},p=async a=>{a.preventDefault(),await r.post("/api/deleteProduct",{_id:o}).then(s=>{s.data.message==="Product Deleted"&&(c(s.data.message,"Success"),l("/admin/product"))}).catch(s=>{console.error(s)})};return e.jsxs("div",{className:"admin-container",children:[e.jsx(v,{}),e.jsxs("main",{className:"product-management",children:[e.jsxs("section",{children:[e.jsxs("strong",{children:["ID - ",t._id]}),e.jsx("img",{src:t.Product_Photo,alt:"Product"}),e.jsx("p",{children:t.Product_Name}),e.jsxs("h3",{children:["â‚¹ ",t.Price]})]}),e.jsxs("article",{children:[e.jsx(g,{to:"/admin/product",children:e.jsx(f,{})}),e.jsxs("form",{children:[e.jsx("h2",{children:"Manage"}),e.jsxs("div",{children:[e.jsx("label",{children:"Name"}),e.jsx("input",{required:!0,type:"text",placeholder:"Name",name:"Product_Name",value:t.Product_Name,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Price"}),e.jsx("input",{required:!0,type:"number",placeholder:"Price",name:"Price",value:t.Price,onChange:n})]}),e.jsxs("div",{id:"dropDowns",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",children:"Type"}),e.jsx("br",{}),e.jsxs("select",{name:"type",id:"select",defaultValue:t.type,onChange:n,children:[e.jsx("option",{value:"Veg",children:"Vegetarian"}),e.jsx("option",{value:"Vegan",children:"Vegan"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"Category",children:"Category"})," ",e.jsx("br",{}),e.jsxs("select",{name:"Category",id:"select",defaultValue:t.Category,onChange:n,children:[e.jsx("option",{value:"Muffins",children:"Muffins"}),e.jsx("option",{value:"Pizza",children:"Pizza"}),e.jsx("option",{value:"Beverages",children:"Beverages"}),e.jsx("option",{value:"Smoothie",children:"Smoothie"}),e.jsx("option",{value:"SnacksAndSides",children:"Snacks and Sides"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"Description",children:"Description"}),e.jsx("textarea",{required:!0,name:"Description",id:"Description",cols:30,rows:5,value:t.Description,onChange:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"Product_Photo",children:"Photo"}),e.jsx("input",{type:"text",placeholder:"Enter Image URL",name:"Product_Photo",value:t.Product_Photo,onChange:n})]}),e.jsx("button",{onClick:h,children:"Update"}),e.jsx("button",{className:"delete",onClick:p,children:"Delete"})]})]})]})]})};export{S as default};
