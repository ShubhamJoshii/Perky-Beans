import{r as o,N as x,u as m,j as s,a as g,b as c}from"./index-bf098731.js";import{F as j}from"./index.esm-66fcf97a.js";import{A as p,H as f,a as N}from"./AdminSidebar-bceb0d31.js";import{B as b}from"./index.esm-0be86cb6.js";import"./Charts-4a9a1720.js";import"./index.esm-2cfaa5d4.js";import"./index.esm-b0b7b02b.js";import"./index.esm-31443be7.js";const w="/assets/userpic-996d8bbc.png",D=()=>{const[i,t]=o.useState(!1),{notification:e}=o.useContext(x),[a,n]=o.useState({products:0,users:0}),l=m(),u=async()=>{await c.get("/api/logout").then(r=>{r.data&&(l("/"),e(r.data,"Success"),setUserData(null),t(!1))}),setTimeout(()=>{setLoadingShow(!1)},1e3)},h=async()=>{await c.get("/api/fetchUsersProductsCount").then(r=>{n(r.data)})};return o.useEffect(()=>{h()},[]),s.jsxs("div",{className:"admin-container",children:[s.jsx(p,{}),s.jsxs("main",{className:"dashboard",children:[s.jsxs("div",{className:"bar",children:[s.jsx(b,{}),s.jsx("input",{type:"text",placeholder:"Search for data, users, docs"}),s.jsx(j,{}),s.jsx("img",{src:w,alt:"User",onClick:()=>t(!i)})]}),i&&s.jsxs("div",{id:"logoutBUTTON",children:[s.jsx("p",{children:s.jsx(g,{to:"/",children:"HOME"})}),s.jsx("p",{children:s.jsx("button",{onClick:u,children:"LOGOUT"})})]}),s.jsxs("section",{className:"widget-container",children:[s.jsx(d,{percent:a.users*8,value:a.users,heading:"Users",color:"rgb(0 198 202)"}),s.jsx(d,{percent:a.products*1.2,value:a.products,heading:"Products",color:"rgb(76 0 255)"})]})]})]})},d=({heading:i,value:t,percent:e,color:a,amount:n=!1})=>s.jsxs("article",{className:"widget",children:[s.jsxs("div",{className:"widget-info",children:[s.jsx("p",{children:i}),s.jsx("h4",{children:n?`$${t}`:t}),e>0?s.jsxs("span",{className:"green",children:[s.jsx(f,{})," +",e,"%"," "]}):s.jsxs("span",{className:"red",children:[s.jsx(N,{})," ",e,"%"," "]})]}),s.jsx("div",{className:"widget-circle",style:{background:`conic-gradient(
        ${a} ${Math.abs(e)/100*360}deg,
        rgb(0, 0, 0) 0
        )`},children:s.jsxs("span",{style:{color:a},children:[e,"%"]})})]});export{D as default};
