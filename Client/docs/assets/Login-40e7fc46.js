import{r as t,N as x,u as j,j as s,a as l,b as f}from"./index-cbe3fdec.js";import{f as v,g as E}from"./index.esm-24426d4d.js";import{H as P}from"./Header-6d6a280a.js";import{O as y}from"./Blocks-a4e89473.js";import"./index.esm-a1d35d51.js";const I=()=>{const[e,c]=t.useState({Email:"",Password:""}),[o,h]=t.useState(!1),{notification:i,checkUserAlreadyLogin:m}=t.useContext(x),[u,n]=t.useState(!1),p=j();t.useEffect(()=>{o?document.getElementById("Password").type="text":document.getElementById("Password").type="password"},[o]);const d=r=>{const a=r.target.name,g=r.target.value;c({...e,[a]:g})},w=async r=>{r.preventDefault(),e.Email&&e.Password.length>=8&&!e.Password.includes(" ")?(n(!0),await f.post("/api/login",e).then(a=>{a.data==="User Logined"?(i(a.data,"Success"),setTimeout(()=>{m(),p("/")},1e3)):i(a.data,"Un-Success"),setTimeout(()=>{n(!1)},1e3)}).catch(a=>{n(!1)})):e.Password.includes(" ")?i("User Password is does not Include any white space","Warning"):e.Password.length<8&&i("User Password is Not Matched","Warning")};return s.jsxs(s.Fragment,{children:[s.jsx(P,{}),s.jsx("div",{id:"Login",children:s.jsxs("form",{onSubmit:w,children:[s.jsx("h1",{children:"LOGIN"}),s.jsx("label",{htmlFor:"Email",children:"Email:"}),s.jsx("br",{}),s.jsx("input",{type:"Email",id:"Email",name:"Email",placeholder:"Enter your Email",value:e.Email,onChange:d,required:!0}),s.jsx("label",{htmlFor:"Password",children:"Password:"})," ",s.jsx("br",{}),s.jsxs("div",{id:"passwordContainer",children:[s.jsx("input",{type:"Password",minLength:8,maxLength:18,id:"Password",name:"Password",placeholder:"Enter your Password",value:e.Password,onChange:d,required:!0}),s.jsx("div",{id:"passwordEYE",onClick:()=>{h(!o)},children:o?s.jsx(v,{}):s.jsx(E,{})})]}),s.jsx("div",{className:"forgot-password",children:s.jsx(l,{to:"./forgetpassword",children:"Forgot Password?"})}),u?s.jsx(y,{height:"22",width:"18",color:"white",wrapperStyle:{},wrapperClass:"loading",visible:!0,ariaLabel:"oval-loading",secondaryColor:"white",strokeWidth:8,strokeWidthSecondary:8}):s.jsx("input",{type:"submit",value:"LOGIN"}),s.jsxs("div",{className:"no-account",children:[s.jsx("p",{children:"Don't have an account?"}),s.jsx(l,{to:"/auth/Register",ClassName:"active",children:"Sign Up"})]})]})})]})};export{I as default};
