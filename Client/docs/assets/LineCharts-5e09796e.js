import{r as i,j as a,b as g}from"./index-c667c2e2.js";import{A as v}from"./AdminSidebar-1e50e2a8.js";import"./Charts-de5c9dcc.js";import{C as h,a as j,L as f,P as x,e as R,p as y,b as C,c as O,f as T}from"./index-173da06a.js";import"./index.esm-3b99841e.js";import"./index.esm-5b499a51.js";import"./index.esm-ac1cf2e2.js";import"./index.esm-7a656881.js";h.register(j,f,x,R,y,C,O);const D={responsive:!0,plugins:{legend:{position:"top"},title:{position:"bottom",display:!0,text:"Revenue & Discount Chart"}}},$=()=>{const[e,u]=i.useState({Discount:0,TotalRevenue:0}),d=async()=>{let o={},n={};await g.get("/api/fetchOrders").then(l=>{l.data.data.filter(t=>{const{Discount:s,TotalAmountPayed:b}=t,c=new Date(t.orderedAt),r=`${c.toLocaleString("default",{month:"long"})} ${c.getFullYear()}`;o[r]=(o[r]||0)+s,n[r]=(n[r]||0)+b});let p=Object.keys(o).sort().reverse().reduce((t,s)=>(t[s]=o[s],t),{}),m=Object.keys(o).sort().reverse().reduce((t,s)=>(t[s]=n[s],t),{});u({Discount:p,TotalRevenue:m})}).catch(l=>{console.log(l)})};return i.useEffect(()=>{d()},[]),a.jsxs("div",{className:"admin-container",children:[a.jsx(v,{}),a.jsxs("main",{className:"chart-container",children:[a.jsx("h2",{children:"Line Charts"}),a.jsx(T,{options:D,data:{labels:Object.keys(e==null?void 0:e.TotalRevenue),datasets:[{label:"Total Revenue",data:Object.values(e==null?void 0:e.TotalRevenue),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Discount Allot",data:Object.values(e==null?void 0:e.Discount),borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]}})]})]})};export{$ as default,D as options};
