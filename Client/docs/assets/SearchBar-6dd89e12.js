import{r as d,u as y,j as e,a as P,b as S}from"./index-c667c2e2.js";import{B as k}from"./index.esm-74d94718.js";import{c as v,d as N,e as I}from"./index.esm-7a656881.js";import{M as w,a as R}from"./Header-c72b3d0a.js";import{b as o}from"./index.esm-3b99841e.js";import{G as T,b}from"./index.esm-5b499a51.js";function L(l){return T({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M17.47 250.9C88.82 328.1 158 397.6 224.5 485.5c72.3-143.8 146.3-288.1 268.4-444.37L460 26.06C356.9 135.4 276.8 238.9 207.2 361.9c-48.4-43.6-126.62-105.3-174.38-137z"}}]})(l)}const g="/assets/Beverages-64cde32f.png",E=[{Topic:"Category",subTopic:[{image:g,text:"Muffins",apiName:"Muffins"},{image:g,text:"Beverages",apiName:"Beverages"},{image:g,text:"Pizza",apiName:"Pizza"},{image:g,text:"Snacks and Sides",apiName:"SnacksAndSides"},{image:g,text:"Smoothie & Ice Cream",apiName:"Smoothie"}]},{Topic:"Ingredients",subTopic:[{image:g,text:"Vegetarian",apiName:"Veg"},{image:g,text:"Vegan",apiName:"Vegan"}]}],M=({showFilterBox:l,setShowFilterBox:m})=>{const[t,i]=d.useState({Category:[],Ingredients:[],PriceRange:599,RatingUP:1}),[p,j]=d.useState(!1),u=d.useRef(null),C=y(),f=()=>{C("/products",{state:t}),m(!1)};return d.useEffect(()=>{const a=x=>{u.current&&!u.current.contains(x.target)&&m(!1)};return document.addEventListener("click",a,!0),()=>{document.removeEventListener("click",a,!0)}},[l]),e.jsx(e.Fragment,{children:l?e.jsxs("div",{className:"filter",children:[e.jsxs("div",{className:"box",children:[e.jsxs("div",{className:"header",children:[e.jsx(b,{className:"ArrowBack",onClick:()=>m(!l)}),e.jsx("h3",{children:"Filter"}),e.jsx("p",{className:"reset",onClick:()=>i({Category:[],Ingredients:[]}),children:"Reset"})]}),E.map((a,x)=>e.jsxs("div",{className:"category",children:[e.jsxs("div",{className:"topic",children:[e.jsx("h4",{children:a.Topic}),e.jsx(v,{className:"show-More"})]}),e.jsx("div",{className:"category-topic-container",children:a.subTopic.map(s=>e.jsxs("button",{className:"category-topic",id:t.Category.concat(t.Ingredients).find(r=>r.text===s.text)?"active":"",onClick:()=>{var r,n;if(a.Topic==="Category"){let c;(r=t==null?void 0:t.Category)!=null&&r.find(h=>h.text===s.text)&&t.Category.length>0?c=t.Category.filter(h=>h.text!==s.text):c=[...t.Category,s],i({...t,Category:c})}if(a.Topic==="Ingredients"){let c;(n=t==null?void 0:t.Ingredients)!=null&&n.find(h=>h.text===s.text)&&t.Ingredients.length>0?c=t.Ingredients.filter(h=>h.text!==s.text):c=[...t.Ingredients,s],i({...t,Ingredients:c})}},children:[e.jsx("img",{src:s.image,alt:"muffinsImage",id:"filterProductImage"}),e.jsx("p",{children:s.text}),t.Category.concat(t.Ingredients).find(r=>r.text===s.text)&&e.jsx(L,{className:"checkLOGO"})]},s.text))})]},a+x)),e.jsxs("div",{className:"category",children:[e.jsxs("div",{className:"topic",children:[e.jsx("h4",{children:"Price Range"}),e.jsxs("div",{children:[e.jsxs("p",{children:["₹80 - ₹",t.PriceRange]}),p?e.jsx(v,{className:"show-More",onClick:()=>{j(!p)}}):e.jsx(N,{className:"show-More",onClick:()=>{j(!p)}})]})]}),e.jsx("input",{type:"range",name:"price",id:"price",min:"80",defaultValue:t.PriceRange,max:"599",onChange:a=>{i({...t,PriceRange:a.target.value})}}),p&&e.jsxs("div",{id:"furtherPrice",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"PriceLow",children:"Low to High"}),e.jsx("input",{type:"radio",name:"Price",id:"PriceLow"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"PriceHigh",children:"High to Low"}),e.jsx("input",{type:"radio",name:"Price",id:"PriceHigh"})]})]})]}),e.jsxs("div",{className:"category",children:[e.jsxs("div",{className:"topic",children:[e.jsx("h4",{children:"Customer Review"}),e.jsx(v,{className:"show-More"})]}),e.jsxs("div",{className:"review-wrapper",children:[e.jsxs("div",{className:"subwrapper",children:[e.jsxs("label",{htmlFor:"4Star",children:[e.jsx(o,{}),e.jsx(o,{}),e.jsx(o,{}),e.jsx(o,{}),e.jsx("p",{children:"& up"})]}),e.jsx("input",{type:"radio",name:"Star",id:"4Star",onClick:()=>i({...t,RatingUP:4})})]}),e.jsxs("div",{className:"subwrapper",children:[e.jsxs("label",{htmlFor:"3Star",children:[e.jsx(o,{}),e.jsx(o,{}),e.jsx(o,{}),e.jsx("p",{children:"& up"})]}),e.jsx("input",{type:"radio",name:"Star",id:"3Star",onClick:()=>i({...t,RatingUP:3})})]}),e.jsxs("div",{className:"subwrapper",children:[e.jsxs("label",{htmlFor:"2Star",children:[e.jsx(o,{}),e.jsx(o,{}),e.jsx("p",{children:"& up"})]}),e.jsx("input",{type:"radio",name:"Star",id:"2Star",onClick:()=>i({...t,RatingUP:2})})]}),e.jsxs("div",{className:"subwrapper",children:[e.jsxs("label",{htmlFor:"1Star",children:[e.jsx(o,{}),e.jsx("p",{children:"& up"})]}),e.jsx("input",{type:"radio",name:"Star",id:"1Star",defaultChecked:!0,onClick:()=>i({...t,RatingUP:1})})]})]})]})]}),e.jsx("div",{className:"selections",children:t.Category.concat(t.Ingredients).map((a,x)=>e.jsxs("button",{className:"btn",children:[e.jsx("img",{src:a.image,alt:"muffinsImage"}),e.jsx("p",{children:a.text}),e.jsx(I,{className:"CutBTN",onClick:()=>{t.Category.find(s=>s.text===a.text)?i({Ingredients:t.Ingredients,Category:[...t.Category.filter(s=>s.text!==a.text)]}):i({Category:t.Category,Ingredients:[...t.Ingredients.filter(s=>s.text!==a.text)]})}})]},a.text+x))}),e.jsx("button",{className:"showResult",onClick:f,children:"Show results"})]}):m(l)})},$=({position:l,currPlace:m,bgColor:t})=>{const[i,p]=d.useState(),[j,u]=d.useState(!1),[C,f]=d.useState(null),a=async()=>{await S.post("/api/fetchProduct",{Available:!0}).then(s=>{f(s.data.data)}).catch(s=>{console.log("Error")})};d.useEffect(()=>{a()},[]);const x=s=>{let r=s.target.value.toLowerCase(),n;r.length>0?n=C.filter(c=>c.Product_Name.toLowerCase().includes(r)||c.Category.toLowerCase().includes(r)):n=[],p(n)};return e.jsxs("div",{id:"SearchBarContainer",children:[e.jsxs("div",{id:"SearchBar",style:{marginTop:`${-l}px`,backgroundColor:`${t}`,borderColor:"black"},children:[e.jsx(k,{id:"SearchICON"}),e.jsx("input",{type:"text",placeholder:"SEARCH PRODUCT HERE.....",onChange:x}),e.jsxs("div",{id:"Filter",children:[e.jsxs("div",{id:"fliterTEXT",onClick:()=>u(!j),children:[e.jsx("p",{children:"FILTER"}),e.jsx(N,{})]}),e.jsx("div",{children:e.jsx(w,{id:"fliterTEXT"})})]})]}),e.jsx(M,{showFilterBox:j,setShowFilterBox:u}),e.jsx("div",{id:"SearchProductsContainer",children:i==null?void 0:i.map((s,r)=>{let n;return m==="home"?n=`/products/${s.Category}/${s._id}`:n=`/products/${s.Category}/${s._id}`,e.jsxs("div",{id:"SearchProducts",children:[e.jsx(P,{to:n,children:e.jsxs("div",{onClick:()=>window.scrollTo({top:0,left:0,behavior:"smooth"}),children:[e.jsx("img",{src:s.Product_Photo,alt:s.Product_Name}),e.jsx("p",{children:s.Product_Name})]})}),e.jsx(R,{})]},s.Category+r)})})]})};export{$ as S};
