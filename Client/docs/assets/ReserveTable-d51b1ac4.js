import{r as i,j as e,b}from"./index-ed1235f5.js";import{A as p}from"./AdminSidebar-b4b5b75f.js";import{$ as g}from"./module-6d8f6cfb.js";import{P as f}from"./Pagination-a690dfde.js";import"./index.esm-51f27fd1.js";import"./index.esm-9f69718b.js";import"./index.esm-5e76bc58.js";import"./index.esm-7e255ccb.js";const y=()=>{const[s,d]=i.useState([]),[o,r]=i.useState(!0),[n,h]=i.useState(1),c=async()=>{await b.get("/api/reserveTables").then(t=>{d(t.data)}).catch(t=>{console.error(t)}).finally(()=>{r(!1)})},l=10,x=Math.ceil((s==null?void 0:s.length)/l),m=t=>{h(t)},a=s==null?void 0:s.slice((n-1)*l,n*l);return i.useEffect(()=>{c()},[]),e.jsxs("div",{className:"admin-container",children:[e.jsx(p,{}),e.jsxs("div",{className:"dashboard-product-box",children:[e.jsx("h2",{className:"heading",children:"Reserve Tables"}),e.jsxs("table",{className:"table",role:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Persons"}),e.jsx("th",{children:"Table Allot"}),e.jsx("th",{children:"Date & Time"}),e.jsx("th",{children:"Booking Date"}),e.jsx("th",{children:"Status"})]})}),o?e.jsx("td",{colSpan:"10",children:e.jsx(g,{height:"40",width:"60",color:"black",wrapperStyle:{},wrapperClass:"loading",visible:!0,ariaLabel:"oval-loading",secondaryColor:"black",strokeWidth:4,strokeWidthSecondary:4})}):e.jsxs("tbody",{children:[a==null?void 0:a.map((t,j)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.User_Name}),e.jsx("td",{children:t.User_Email}),e.jsx("td",{children:t.Person_Count}),e.jsx("td",{children:t==null?void 0:t.TableNumber}),e.jsxs("td",{children:[t.reservation_Date,", ",t.reservation_Timing]}),e.jsxs("td",{children:[t.Booking_DateTime.split("T")[0]," ",t.Booking_DateTime.split("T")[1]]}),(t==null?void 0:t.status)==="Confirmed"?e.jsx("td",{id:"tableConfirmed",children:"Confirmed"}):e.jsx("td",{id:"tableCancelled",children:" Cancelled"})]},j)),!a&&e.jsx("p",{children:"No Product Found"})]})]}),!o&&e.jsx(f,{currentPage:n,totalPages:x,onPageChange:m})]})]})};export{y as default};
