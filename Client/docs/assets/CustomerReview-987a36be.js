import{r as n,j as e,b as v}from"./index-98f0d127.js";import{b as o}from"./index.esm-79fba085.js";import{R as g}from"./index-58cf35b4.js";const f=()=>{const[t,c]=n.useState([]),[l,x]=n.useState(1),[d,h]=n.useState([]),j=async()=>{await v.get("/api/fetchReview").then(i=>{c(i.data)})};return n.useEffect(()=>{let i=0,s=[];for(let a=0;a<(t==null?void 0:t.length);a++)i+=t[a].rating,s.push(t[a].rating);let r=i/(t==null?void 0:t.length);h(s),x(r)},[t]),n.useEffect(()=>{j()},[]),e.jsxs(e.Fragment,{children:[e.jsx("h2",{id:"reviewHeading",children:"Customer Review"}),e.jsxs("div",{className:"CustomerReview",children:[l&&e.jsxs("div",{className:"overallRating",children:[e.jsx("p",{id:"overall-rating-text",children:"Overall rating"}),e.jsxs("div",{id:"overall-rating-star",children:[e.jsx("h2",{children:l.toFixed(1)}),e.jsx(g,{defaultValue:l,className:"overall-rate-antd",disabled:!0,allowHalf:!0,allowClear:!1,tooltips:["Very Bad","Bad","Good","Excellent","Awesome"]})]}),[5,4,3,2,1].map(i=>{let s=d.filter(a=>a===i).length,r=s/d.length*100;return e.jsxs("div",{id:"rating-count",children:[e.jsxs("div",{children:[e.jsx("p",{children:i}),e.jsx(o,{})]}),e.jsxs("div",{id:"rating-line",children:[e.jsx("div",{id:"rating-line-main",style:{width:r+"%"}}),e.jsx("div",{id:"rating-line-background"})]}),e.jsx("p",{id:"review-count",children:s})]})})]}),t.map((i,s)=>e.jsxs("div",{className:"reviewCard",children:[e.jsx("div",{id:"userINFO",children:e.jsx("h2",{children:i.Name})}),e.jsx("p",{children:i.Description.length>180?`${i.Description.slice(0,180)}...`:i.Description}),e.jsx("span",{id:"customerDate",children:i.Date}),e.jsxs("div",{id:"stars",children:[e.jsx(o,{id:"starLOGO"}),e.jsxs("span",{children:[i==null?void 0:i.rating.toFixed(1)," / 5.0"]})]})]},s))]})]})};export{f as C};
