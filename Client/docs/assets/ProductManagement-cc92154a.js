import{d as x,r as o,N as j,u as P,j as e,L as g,b as r}from"./index-04e2cc78.js";import{A as v}from"./AdminSidebar-1d5faf69.js";import{c as f}from"./index.esm-28aa77ef.js";import"./index.esm-929f7591.js";import"./index.esm-825d002b.js";import"./index.esm-da0dab77.js";const S=()=>{const n=x().productId,{notification:c}=o.useContext(j),[t,d]=o.useState({_id:"",Product_Photo:"",Product_Name:"",Description:"",Price:"",Rating:"",Category:"",type:""}),l=P(),u=async()=>{await r.get(`/api/fetchProductDetails?_id=${n}`).then(a=>{a.data.found&&d(a.data.data)}).catch(a=>{console.log(a)})};o.useEffect(()=>{u()},[n]);const i=a=>{const s=a.target.name,p=a.target.value;d({...t,[s]:p})},h=async a=>{a.preventDefault(),await r.post("/api/updateProduct",t).then(s=>{c(s.data.message,"Success")}).catch(s=>{console.log(s)})},m=async a=>{a.preventDefault(),await r.post("/api/deleteProduct",{_id:n}).then(s=>{s.data.message==="Product Deleted"&&(c(s.data.message,"Success"),l("/admin/product"))}).catch(s=>{console.error(s)})};return e.jsxs("div",{className:"admin-container",children:[e.jsx(v,{}),e.jsxs("main",{className:"product-management",children:[e.jsxs("section",{children:[e.jsxs("strong",{children:["ID - ",t._id]}),e.jsx("img",{src:t.Product_Photo,alt:t.Product_Name?t.Product_Name:"Product"}),e.jsxs("div",{className:"image-container",children:[e.jsx("p",{children:t.Product_Name}),e.jsxs("h3",{children:["â‚¹",t.Price]})]})]}),e.jsxs("article",{children:[e.jsx(g,{to:"/admin/product",children:e.jsx(f,{})}),e.jsxs("form",{children:[e.jsx("h2",{children:"Manage"}),e.jsxs("div",{children:[e.jsx("label",{children:"Name"}),e.jsx("input",{required:!0,type:"text",placeholder:"Name",name:"Product_Name",value:t.Product_Name,onChange:i})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Price"}),e.jsx("input",{required:!0,type:"number",placeholder:"Price",name:"Price",value:t.Price,onChange:i})]}),e.jsxs("div",{id:"dropDowns",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",children:"Type"}),e.jsx("br",{}),e.jsxs("select",{name:"type",id:"select",defaultValue:t.type,onChange:i,children:[e.jsx("option",{value:"Veg",children:"Vegetarian"}),e.jsx("option",{value:"Vegan",children:"Vegan"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"Category",children:"Category"})," ",e.jsx("br",{}),e.jsxs("select",{name:"Category",id:"select",defaultValue:t.Category,onChange:i,children:[e.jsx("option",{value:"Muffins",children:"Muffins"}),e.jsx("option",{value:"Pizza",children:"Pizza"}),e.jsx("option",{value:"Beverages",children:"Beverages"}),e.jsx("option",{value:"Smoothie",children:"Smoothie"}),e.jsx("option",{value:"SnacksAndSides",children:"Snacks and Sides"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"Description",children:"Description"}),e.jsx("textarea",{required:!0,name:"Description",id:"Description",cols:30,rows:5,value:t.Description,onChange:i})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"Product_Photo",children:"Photo"}),e.jsx("input",{type:"text",placeholder:"Enter Image URL",name:"Product_Photo",value:t.Product_Photo,onChange:i})]}),e.jsx("button",{onClick:h,children:"Update"}),e.jsx("button",{className:"delete",onClick:m,children:"Delete"})]})]})]})]})};export{S as default};
