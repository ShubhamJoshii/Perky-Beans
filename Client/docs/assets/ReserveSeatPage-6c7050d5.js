import{r as n,N,b as x,j as e,R as E}from"./index-a958b4b2.js";import{H as T}from"./Header-d9a2d421.js";import{b as A}from"./index.esm-4ab3e14c.js";import{a as D,b as B}from"./index.esm-33813983.js";import{h as R}from"./index.esm-bd03a2b8.js";import{$ as w}from"./module-a3a79733.js";import{G as C}from"./index.esm-1e03394f.js";const M="/assets/ManWomenDining-f04f3a20.png";function k(i){return C({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}},{tag:"path",attr:{d:"M9 12l2 2l4 -4"}}]})(i)}function y(i){return C({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}}]})(i)}const O=()=>{const[i,r]=n.useState(!1),[l,b]=n.useState(null),[t,d]=n.useState({Contact_Number:void 0,Person_Count:void 0,Date:void 0,Timing:void 0}),[c,S]=n.useState(null),[m,j]=n.useState(null),{notification:u}=n.useContext(N),v=s=>{const a=s.target.name,o=s.target.value;d({...t,[a]:o})};n.useEffect(()=>{});const g=s=>{const a=s.target.name,o=s.target.value;d({...t,[a]:o}),a==="Date"&&S(s.target.value),a==="Timing"&&j(s.target.value)};n.useEffect(()=>{m&&c&&h()},[m,c]);const f=async s=>{if(s.preventDefault(),l==="Seat Available"){if(r(!0),t.Contact_Number.length!=10?document.getElementsByClassName("input-Cover")[0].setAttribute("id","input-Cover-Wrong"):document.getElementsByClassName("input-Cover")[0].setAttribute("id",""),t.Person_Count>8?document.getElementsByClassName("input-Cover")[1].setAttribute("id","input-Cover-Wrong"):document.getElementsByClassName("input-Cover")[1].setAttribute("id",""),t.Contact_Number.length===10&&t.Person_Count<=8){var a=new Date,o=a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()+", "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();await x.post("/api/reserveSeat",{...t,Booking_DateTime:o}).then(p=>{console.log(p),u(p.data.message,"Success"),r(!1),h()}).catch(()=>{setTimeout(()=>r(!1),[1e3]),u("Please Login before Reserving Seat","Warning")})}}else u("Seat Not Avalable Change your Time","Un-Success")},h=async()=>{await x.post("/api/seatAvailable",{time:t.Timing,date:t.Date}).then(s=>{b(s.data.message)})};return e.jsx(E.Fragment,{children:e.jsx("div",{className:"ReserveImage",children:e.jsx("div",{className:"ReserveSeatContainer",children:e.jsxs("div",{className:"ReserveSeat",children:[e.jsx("div",{className:"BlurBackground"}),e.jsxs("div",{id:"ReseverSeatForm",children:[e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"input-Cover",children:[e.jsx(A,{}),e.jsx("input",{type:"number",placeholder:"YOUR NUMBER",name:"Contact_Number",value:t.Contact_Number,onChange:v,required:!0})]}),e.jsxs("div",{className:"input-Cover",children:[e.jsx(R,{}),e.jsx("input",{type:"number",placeholder:"NUMBER OF PERSONS",name:"Person_Count",value:t.Person_Count,onChange:v,required:!0})]}),e.jsxs("div",{className:"input-Cover",children:[e.jsx(D,{}),e.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],max:"2024-01-29",placeholder:"SELECT DATE",name:"Date",value:t.Date,onChange:g,required:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"input-Cover",children:[e.jsx(B,{}),e.jsx("input",{type:"time",placeholder:"SELECT TIME",name:"Timing",value:t.Timing,onChange:g,required:!0,min:new Date().toISOString().split("T")[0]===(t==null?void 0:t.Date)?new Date().getHours()+1+":"+new Date().getMinutes():"11:00",max:"23:00",step:"1800"})]}),l==="Seat Available"&&e.jsxs("span",{id:"seatAvailable",children:[e.jsx(k,{})," Seat Available"]}),l==="Seat Not Available"&&e.jsxs("span",{id:"seatNotAvailable",children:[e.jsx(y,{})," Seat Not Available"]})]}),i?e.jsx("button",{children:e.jsx(w,{height:"28",width:"28",color:"white",wrapperStyle:{},wrapperClass:"loading",visible:!0,ariaLabel:"oval-loading",secondaryColor:"white",strokeWidth:8,strokeWidthSecondary:8})}):e.jsx("button",{children:"BOOK NOW"})]}),e.jsxs("div",{id:"SecondHALF",children:[e.jsxs("h2",{children:["BOOK YOUR TABLE TO ENJOY ",e.jsx("br",{}),"THE AMBIENCE"]}),e.jsx("img",{src:M})]})]})]})})})})},U=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{}),e.jsx(O,{})]});export{U as default};
