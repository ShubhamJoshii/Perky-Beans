import{r as i,N as U,u as z,j as e,a as S,b as Z}from"./index-a958b4b2.js";import{e as F,f as I}from"./index.esm-871905a8.js";import{F as d,a as c}from"./index.esm-ff457e16.js";import{H as D}from"./Header-d9a2d421.js";import{$ as H}from"./module-a3a79733.js";import"./index.esm-1e03394f.js";const T="/assets/EmailVerficationLogo-3ed7007c.png",Q=()=>{const[s,h]=i.useState({Full_Name:"",Email:"",Password:"",Confirm_Password:""}),[u,_]=i.useState(!1),[p,N]=i.useState(!1),[k,A]=i.useState(!1),[w,g]=i.useState(!1),[j,y]=i.useState(!1),[v,E]=i.useState(!1),[P,C]=i.useState(!1),[x,b]=i.useState(!1),[R,f]=i.useState(!1),{notification:o}=i.useContext(U);z(),i.useEffect(()=>{u?document.getElementById("Password").type="text":document.getElementById("Password").type="password"},[u]),i.useEffect(()=>{p?document.getElementById("Confirm_Password").type="text":document.getElementById("Confirm_Password").type="password"},[p]);const V=r=>{const a=r.target.name,t=r.target.value;h({...s,[a]:t}),$()},B=r=>{const{name:a,value:t}=r.target;(/^[A-Za-z\s]+$/.test(t[0])||t==="")&&h({...s,[a]:t})},L=r=>{const{name:a,value:t}=r.target;(/^[A-Za-z\s]+$/.test(t)||t==="")&&h({...s,[a]:t})},$=r=>{const a=s.Password,t=new RegExp("(?=.*[a-z])"),n=new RegExp("(?=.*[A-Z])"),m=new RegExp("(?=.*[0-9])"),l=new RegExp("(?=.*[!@#$%^&*])"),q=new RegExp("(?=.{8,})");t.test(a)?g(!0):g(!1),n.test(a)?y(!0):y(!1),l.test(a)?C(!0):C(!1),m.test(a)?E(!0):E(!1),q.test(a)?b(!0):b(!1)},W=async r=>{var n,m;r.preventDefault();let a=document.getElementById("Password"),t=document.getElementById("Confirm_Password");s.Full_Name&&s.Email&&s.Password===s.Confirm_Password&&w&&j&&v&&P&&x&&!((n=s.Password)!=null&&n.includes(" "))?(f(!0),await Z.post("/api/register",s).then(l=>{o(l.data,"Success"),f(!1),l.data==="Verification  email sent"&&A(!0)}).catch(l=>{f(!1)})):(m=s.Password)!=null&&m.includes(" ")?(a.style.border="3px solid red",t.style.border="none",o("Password does not include any white space","Warning")):x?(a.style.border="3px solid red",t.style.border="none",o("Password length should be greater than and equal to 8","Warning")):s.Password!==s.Confirm_Password?(a.style.border="3px solid red",t.style.border="3px solid red",o("User Password and Confirm Password not Matched","Warning")):(a.style.border="none",t.style.border="none",o("Please Fill Registration Form Properly","Warning"))};return e.jsxs(e.Fragment,{children:[e.jsx(D,{}),e.jsx("div",{id:"Sign_Up",children:k?e.jsxs("form",{id:"verfication-email",children:[e.jsx("h2",{children:"Email Verification"}),e.jsx("p",{children:"Thank you for signing up for a Perky Bean account."}),e.jsx("h1",{children:"Verify your email address"}),e.jsx("img",{src:T}),e.jsx("p",{children:"Verfication email has been sent to:"}),e.jsx("strong",{children:e.jsx("p",{children:s.Email})}),e.jsxs("p",{children:["Click on the link in the email to activate your account.",e.jsxs("p",{id:"verified-login",children:["Verified? ",e.jsx(S,{to:"/auth/login",children:"Login"})]})]})]}):e.jsxs("form",{children:[e.jsx("h1",{children:"Sign Up"}),e.jsx("label",{htmlFor:"Full_Name",children:"Full Name:"}),e.jsx("br",{}),e.jsx("input",{type:"text",id:"Full_Name",name:"Full_Name",placeholder:"Enter your full name",value:s.Full_Name,required:!0,onChange:L}),e.jsx("label",{htmlFor:"Email",children:"Email: "}),e.jsx("br",{}),e.jsx("input",{type:"email",id:"Email",name:"Email",placeholder:"Enter your email",value:s.Email,required:!0,onChange:B}),e.jsx("label",{htmlFor:"password",children:"Password:"}),e.jsxs("div",{id:"passwordContainer",children:[e.jsx("input",{type:"password",id:"Password",name:"Password",placeholder:"Enter your Password",value:s.Password,required:!0,onChange:V}),e.jsx("div",{id:"passwordEYE",onClick:()=>_(!u),children:u?e.jsx(F,{}):e.jsx(I,{})})]}),e.jsx("label",{htmlFor:"Confirm_Password",children:"Confirm Password:"}),e.jsxs("div",{id:"passwordContainer",children:[e.jsx("input",{type:"password",id:"Confirm_Password",name:"Confirm_Password",placeholder:"Confirm your password",value:s.Confirm_Password,required:!0,onChange:V}),e.jsx("div",{id:"passwordEYE",onClick:()=>N(!p),children:p?e.jsx(F,{}):e.jsx(I,{})})]}),e.jsxs("div",{id:"passwordValidation",children:[e.jsxs("p",{children:[w?e.jsx(d,{id:"validated"}):e.jsx(c,{id:"no-validated"}),"At least one lowercase letter"]}),e.jsxs("p",{children:[j?e.jsx(d,{id:"validated"}):e.jsx(c,{id:"no-validated"})," At least one uppercase letter"]}),e.jsxs("p",{children:[v?e.jsx(d,{id:"validated"}):e.jsx(c,{id:"no-validated"})," At least one number"]}),e.jsxs("p",{children:[P?e.jsx(d,{id:"validated"}):e.jsx(c,{id:"no-validated"})," At least one special character"]}),e.jsxs("p",{children:[x?e.jsx(d,{id:"validated"}):e.jsx(c,{id:"no-validated"})," At least 8 characters"]})]}),R?e.jsx(H,{height:"22",width:"18",color:"white",wrapperStyle:{},wrapperClass:"loading",visible:!0,ariaLabel:"oval-loading",secondaryColor:"white",strokeWidth:8,strokeWidthSecondary:8}):e.jsx("input",{type:"submit",value:"SIGN UP",onClick:W,id:"registerBTN"}),e.jsxs("div",{className:"already-account",children:[e.jsx("p",{children:"Already have an account?"}),e.jsx(S,{to:"/auth/login",ClassName:"active",children:"Sign In"})]})]})})]})};export{Q as default};
